(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{20:function(e,t,a){e.exports=a(31)},25:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),i=a.n(o),s=(a(25),a(7)),c=a(1),m=a(10),l=a(4),u=a(5),d=a(6),p=a(8);var g={get:function(e){return fetch("".concat("https://hacker-news.firebaseio.com/v0").concat(e)).then((function(e){if(e.ok)return e.json();throw new Error("Request failed!")}))}},h=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:[],isLoading:!0,error:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.get("/item/".concat(this.props.id,".json")).then((function(t){e.setState((function(){return{isLoading:!1,data:t}}))})).catch((function(t){e.setState((function(){return{error:t.message}}))}))}},{key:"render",value:function(){return this.state.isLoading?r.a.createElement("div",null,"Loading..."):r.a.createElement("li",{className:this.props.className},r.a.createElement(s.b,{className:"list__link",to:"/item/".concat(this.props.id)},this.state.data.title))}}]),a}(r.a.Component);var f=function(e){var t=function(e){i(window.parseInt(e.target.value))},a=e.offSet,n=e.pageNumber,o=e.totalItems,i=e.setPageNumber,s=e.setItemsPerPage,c=n+1,m=o%a===0?Math.floor(o/a)-1:Math.floor(o/a);return r.a.createElement("div",{className:"pagination"},r.a.createElement("div",{className:"pagination__info"},"Showing"," ",r.a.createElement("span",{className:"pagination__info-number"},n*a+1)," ","to"," ",r.a.createElement("span",{className:"pagination__info-number"},(n+1)*a<=o?(n+1)*a:o)," ","of ",r.a.createElement("span",{className:"pagination__info-number"},o)," entries"),r.a.createElement("div",{className:"pagination__items-count"},r.a.createElement("label",{className:"pagination__label"},"Show: "),r.a.createElement("select",{className:"pagination__select",name:"itemsPerPage",onChange:function(e){s(window.parseInt(e.target.value))},defaultValue:"10"},r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"15"},"15"),r.a.createElement("option",{value:"20"},"20"),r.a.createElement("option",{value:"25"},"25"),r.a.createElement("option",{value:"30"},"30"),r.a.createElement("option",{value:"35"},"35"),r.a.createElement("option",{value:"40"},"40"),r.a.createElement("option",{value:"45"},"45"),r.a.createElement("option",{value:"50"},"50"),r.a.createElement("option",{value:"100"},"100"))),r.a.createElement("div",{className:"pagination__buttons"},r.a.createElement("button",{onClick:t,className:"pagination__button",value:0},"\xab"),n-2>=0&&r.a.createElement("button",{onClick:t,className:"pagination__button pagination__button--special",value:n-2>=0?n-2:0},c-2),n-1>=0&&r.a.createElement("button",{onClick:t,className:"pagination__button",value:n-1>=0?n-1:0},c-1),r.a.createElement("button",{className:"pagination__button pagination__button--active"},c),n+1<=m&&r.a.createElement("button",{onClick:t,className:"pagination__button",value:n+1<=m?n+1:m},c+1),n+2<=m&&r.a.createElement("button",{onClick:t,className:"pagination__button pagination__button--special",value:n+2<=m?n+2:m},c+2),r.a.createElement("button",{onClick:t,className:"pagination__button",value:m},"\xbb")))},v=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).setPageNumber=function(e){n.setState((function(){return{page:Object(m.a)({},n.state.page,{pageNumber:e})}}))},n.setItemsPerPage=function(e){n.setState((function(){return{page:Object(m.a)({},n.state.page,{numberOfItemsPerPage:e,pageNumber:0})}}))},n.state={items:[],isLoading:!0,page:{pageNumber:0,numberOfItemsPerPage:10},error:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.get("/topstories.json").then((function(t){e.setState((function(){return{isLoading:!1,items:t}}))})).catch((function(t){e.setState((function(){return{error:t.message}}))}))}},{key:"render",value:function(){if(this.state.error)return r.a.createElement("div",null,"Something went wrong... Refresh the page and try again!!!");if(this.state.isLoading)return r.a.createElement("div",null,"Loading...");var e=this.state.page.numberOfItemsPerPage,t=this.state.page.pageNumber,a=t*e,n=a+e;return r.a.createElement("div",{className:"container"},r.a.createElement(f,{offSet:e,pageNumber:t,setPageNumber:this.setPageNumber,setItemsPerPage:this.setItemsPerPage,totalItems:this.state.items.length}),r.a.createElement("ol",{className:"list",start:a+1},this.state.items.slice(a,n).map((function(e){return r.a.createElement(h,{className:"list__item",key:e,id:e})}))))}}]),a}(r.a.Component);var b=function(e){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,r.a.createElement(s.b,{to:"/",className:"header__link",title:"Home"},"Hacker News"))))},E=a(11);var _=function(e){return r.a.createElement("div",{className:"comments__item"},e.by&&r.a.createElement("div",{className:"comments__author"},e.by," ",r.a.createElement("span",{className:"comments__date"},new Date(e.time).toLocaleTimeString())),r.a.createElement("div",{className:"comments__text",dangerouslySetInnerHTML:{__html:e.text}}))},N=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).loadItem=function(e){g.get("/item/".concat(e,".json")).then((function(t){n.setState((function(){return{comments:Object(m.a)({},n.state.comments,Object(E.a)({},e,t))}}),(function(){n.state.comments[e].kids&&n.state.comments[e].kids.forEach((function(e){return n.loadItem(e)}))}))})).catch((function(e){n.setState((function(){return{error:e.message}}))}))},n.renderCommentsRecursively=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=n.state.comments[e];return a&&!a.deleted&&r.a.createElement("div",{key:e,className:"comments__wrapper"+(t?" comments__sub-item":"")},r.a.createElement(_,{by:a.by,text:a.text,time:a.time}),a&&a.kids&&a.kids.map((function(e){return n.renderCommentsRecursively(e,t=!0)})))},n.state={data:{},comments:{},isLoading:!0,error:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.get("/item/".concat(this.props.match.params.itemId,".json")).then((function(t){return t.kids&&t.kids.forEach((function(t){return e.loadItem(t)})),t})).then((function(t){e.setState((function(){return{isLoading:!1,data:t}}))})).catch((function(t){e.setState((function(){return{error:t.message}}))}))}},{key:"render",value:function(){var e=this;return this.state.isLoading?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement("button",{className:"btn btn--secondary comments__btn",onClick:function(t){return e.props.history.goBack()}},"Back")),r.a.createElement("div",{className:"comments"},r.a.createElement("h1",{className:"comments__heading"},r.a.createElement("a",{className:"comments__link",href:this.state.data.url,title:this.state.data.title,target:"_blank",rel:"noopener noreferrer"},this.state.data.title)),r.a.createElement("h2",{className:"comments__title"},"Comments (",this.state.data.descendants,")"),this.state.data.kids&&this.state.data.kids.map((function(t){return e.renderCommentsRecursively(t)}))))}}]),a}(r.a.Component),k=function(){return r.a.createElement("div",null,"404 Not Found")},w=function(){return r.a.createElement(s.a,{basename:"/hacker-news"},r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/",component:v,exact:!0}),r.a.createElement(c.a,{path:"/item/:itemId",component:N}),r.a.createElement(c.a,{component:k}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.8a31da00.chunk.js.map